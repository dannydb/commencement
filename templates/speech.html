{% extends '_base.html' %}

{% block body_class %}speech{% endblock body_class %}

{% block extra_head %}
	<script>
		var speechSlug = '{{ speech.slug}}';
	</script>
{% endblock extra_head %}

{% block header_content %}
<header>
    <div class="container">
        <div class="row">
            <div class="header-wrapper">
                <h1><a href="{{ S3_BASE_URL }}"><h1>{{ PROJECT_NAME }}</h1></a></h1>
            </div>
        </div>
    </div>
</header>
{% endblock %}

{% block content %}
<div class="container">
	<div class="row">
		<div class="speech-header">
			<h1>{{ speech.name }}</h1>
			<p class="speech-info">{{ speech.school }}, {{ speech.date }}</p>
		</div>

		{% if speech.youtube_id or speech.vimeo_id %}
		<div class="speech-video">
			<div class="video-wrapper">
				{% if speech.youtube_id %}
					<iframe id="player" type="text/html" width="100%" height="100%"
					  src="http://www.youtube.com/embed/{{ speech.youtube_id }}?enablejsapi=1"
					  frameborder="0"></iframe>
				{% elif speech.vimeo_id %}
					<iframe src="//player.vimeo.com/video/{{ speech.vimeo_id }}" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
				{% endif %}
			</div>
		</div>
		{% endif %}
	
		<div class="speech-quotes">
			{% if speech.money_quote %}
			<blockquote>
				<p>{{ speech.money_quote|smartypants }}</p>
			</blockquote>
			{% endif %}

			{% if speech.money_quote2 %}
			<blockquote>
				<p>{{ speech.money_quote2|smartypants }}</p>
			</blockquote>
			{% endif %}

			{% if speech.full_text %}
			<p class="full-text"><a href="{{ speech.full_text }}">Read the full text <i class="fa fa-angle-right fa-lg"></i></a></p>
			{% endif %}

			{% if speech.video_url and not speech.youtube_id and not speech.vimeo_id %}
			<p class="video-link"><a href="{{ speech.video_url }}">Watch the speech <i class="fa fa-angle-right fa-lg"></i></a></p>
			{% endif %}
		</div>
	</div>
</div>
{% endblock %}

{% block comments %}
<div class="comments-wrapper">
	<div class="container">
		<div class="row">
			<div id="comments"></div>
		</div>
	</div>
</div>
{% endblock %}


{% block footer_js %}
{{ super() }}

{{ JS.push('js/comments.js') }}
{{ JS.render('js/app-footer-speech.min.js') }}
{% endblock footer_js %}

